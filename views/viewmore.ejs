<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="shortcut icon"
      type="image"
      href="components/images/WhatsApp Image 2021-12-19 at 6.38.10 PM.jpeg"
    />

    <!-- stylesheet -->
    <link rel="stylesheet" href="/styles/template.css" />
    <link rel="stylesheet" href="/styles/viewmore.css" />
    <title>view blogs Page</title>
    <!-- aos cdn link  -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <!-- font awesome -->
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"
      integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm"
      crossorigin="anonymous"
    />
  </head>

  <body>
    <div class="navbar"></div>
    <div id="container">
      <div id="sort">
        <h2>Guide</h2>
        <select id="select">
          <option value="all">All</option>
          <option value="Acne">Acne</option>
          <option value="Anti-aging">Anti-aging</option>
          <option value="Anti-inflammatory">Anti-inflammatory</option>
          <option value="Anti-Oxident">Anti-Oxident</option>
          <option value="Coloidal-Oatmeal">Coloidal-Oatmeal</option>
          <option value="Hydration">Hydration</option>
          <option value="Inflamation">Inflamation</option>
          <option value="Moisturizer">Moisturizer</option>
          <option value="Peptides">Peptides</option>
        </select>
      </div>
      <div id="data_div"></div>
    </div>
    <footer></footer>
  </body>
</html>

<script type="module">
  import {
    navwithouttop,
    footer,
    navfunction,
    searchanimation,
  } from "/scripts/script.js";
  document.querySelector(".navbar").innerHTML = navwithouttop();
  document.querySelector("footer").innerHTML = footer();
  navfunction();
  searchanimation();

  let data_div = document.getElementById("data_div");
  let articles = [];
  ("<% blogs.forEach((item,i)=>{%>");
  ("<% if (i < 19) { %>");
  articles.push({});
  articles["<%=i%>"].id = "<%=item._id%>";
  articles["<%=i%>"].title = "<%=item.title%>";
  articles["<%=i%>"].category = "<%=item.category%>";
  articles["<%=i%>"].url = "<%=item.url%>";
  ("<%}%>");
  ("<%})%>");
  import appendtwo from "/scripts/show_two.js";
  console.log(articles);

  let select = document.getElementById("select");
  appendtwo(articles, data_div);
  select.onchange = function () {
    console.log(select.value);
    if (select.value == "all") {
      data_div.innerHTML = null;
      appendtwo(articles, data_div);
    } else {
      let filterd = articles.filter((item) => {
        return item.category == select.value;
      });
      data_div.innerHTML = null;
      appendtwo(filterd, data_div);
    }
  };
</script>
<!-- aos script  -->
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
  AOS.init({
    delay: 1,
  });
</script>
